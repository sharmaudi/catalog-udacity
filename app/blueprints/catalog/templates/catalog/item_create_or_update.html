{% extends 'layouts/app.html' %}
{% import 'macros/form.html' as f with context %}

{% block title %}
    {% if oper and oper == "edit" %}
        Edit Item
    {% else %}
        Add Item
    {% endif %}


{% endblock %}




{% block body %}

    <div class="container">
        <div class="row">
            <div class="col-md-6 col-md-offset-3 col-lg-8 col-lg-offset-2">

                {% if oper and oper == "edit" %}
                    <form action="{{ url_for('catalog.edit_item', category=item.category.name, item=item.name) }}"
                          method="post">
                {% else %}
                    <form action="{{ url_for('catalog.add_item') }}" method="post">

                {% endif %}


                {{ form.hidden_tag() }}
                {% if oper and oper == "edit" %}
                    <legend>Edit Item</legend>
                {% else %}
                    <legend>Add Item</legend>
                {% endif %}


                {% call f.form_group(form.name, css_class='sm-margin-bottom',
                             autofocus='autofocus',
                             placeholder='Item Name') %}
                {% endcall %}

                {% call f.form_group(form.category_id, css_class='sm-margin-bottom') %}
                {% endcall %}

                {% call f.form_group(form.description, css_class='sm-margin-bottom',
                             placeholder='Item Description') %}
                {% endcall %}


                <div class="row">
                    <div class="col-md-6 col-md-offset-3 col-lg-6 col-lg-offset-3">
                        <button type="submit" class="btn btn-primary btn-block">
                            Submit
                        </button>
                    </div>
                </div>
                </form>
            </div>
        </div>

    </div>
{% endblock %}
